import csv
import random

#
# 不適切な使用例（ラベル1）のパターン - より自然で多様な表現
#
inappropriate_patterns = [
    # 16. 録画・録音・キャプチャ（直接的表現）
    [
        "講義の動画を録画して保存しています",
        "録画してYouTubeにアップしてもいいですか？",
        "講義を撮影しました",
        "会議の内容を勝手に録画しました",
        "画面録画ソフトで保存中です",
        "講義動画のスクショを送ります",
        "講義動画のスクリーンショットを送ります",
        "講義動画を録音したので欲しい人いますか？"
        "講義のスクショをしました",
        "講義のスクリーンショットを撮りました",
    ],
    
    # 17. ZoomURL共有（直接的表現）
    [
        "講義のZoomリンクを友人に送りました",
        "ZoomのURLを他の人にシェアします",
        "Zoomの招待を転送しました",
        "Slackの内容をX(Twitter)に投稿しました",
        "SlackのスクショをInstagramにアップした",
        "講義のZoomリンクをTwitterに貼った",
        "受講してない友達に講義資料を送った",
        "SNSにZoomの録画を載せました",
        "Slackの内容をインスタに載せた",
        "受講者じゃない人に動画のリンクを共有した",
        "録画した講義をYouTubeにアップした",
        "講義URLをSNSに投稿した",
        "教材のURLをTwitterに載せました",
        "講義のリンクをSNSで共有しました",
        "動画のURLを友達に教えました",
        "リンクをLINEで拡散します",
        "URLをInstagramのストーリーに載せます",
        "Facebookでシェアしました"
    ],
    
    # 17. ZoomURL共有（曖昧・隠語表現）
    [
        "友達も参加したがってるので...",
        "リンク、ちょっと教えてもいいですか？",
        "知り合いにも見せたくて",
        "参考までに友人に送ります",
        "内輪だけで共有します",
        "アドレス、メモしておきますね",
        "接続情報をお借りします",
        "会議の詳細を教えてあげたいです"
    ],
    
    # 18. 資料の無断利用（直接的表現）
    [
        "この資料、他の人にも配っておきます",
        "教材を勝手に配布しました",
        "資料を無断でコピーして使います",
        "プリントアウトして配布します",
        "PDFを転送させてもらいます",
        "ファイルを共有フォルダに置きました"
    ],
    
    # 18. 資料の無断利用（曖昧・隠語表現）
    [
        "この資料、参考になりそうなので...",
        "知り合いにも見せてあげたいです",
        "コピーして勉強会で使わせてもらいます",
        "少しだけ引用させてもらいます",
        "参考資料として活用します",
        "素材として使わせていただきます",
        "ベースにして作り直します",
        "一部を抜粋して使います",
        "テンプレートとして利用します",
        "サンプルとして参考にします"
    ],
    
    # 20. SNS投稿（直接的表現）
    [
        "Slackで話した内容をSNSで紹介したい",
        "この会話をTwitterに投稿します",
        "講義の様子をInstagramにアップしました",
        "チャット内容をブログに書きます",
        "ディスカッションをYouTubeで紹介します",
        "会話のスクショをSNSに投稿します"
    ],
    
    # 20. SNS投稿（曖昧・隠語表現）
    [
        "面白い話があったので紹介したいです",
        "この内容、シェアしてもいいですか？",
        "話題になりそうな発言がありました",
        "みんなにも教えてあげたいです",
        "拡散希望です",
        "RT用の素材にします",
        "ネタとして使わせてもらいます",
        "話のタネにしたいです",
        "例として紹介したいです",
        "参考事例として投稿します"
    ],
    
    # 12. 営業・勧誘（直接的表現）
    [
        "ネットワークビジネスに興味ありませんか？",
        "副業に興味ある人いたら連絡ください",
        "投資の話をしませんか",
        "MLMの勧誘をしたいです",
        "アフィリエイトを始めませんか",
        "FXで稼げる方法を教えます",
        "宗教を始めませんか？",
        "この宗教団体おすすめですよ",
        "政治活動に参加しませんか？"
    ],
    
    # 12. 営業・勧誘（曖昧・隠語表現）
    [
        "お金の話なんですが...",
        "いい話があるんですが聞きませんか？",
        "稼げる方法を知ってるんです",
        "副収入に興味ありませんか？",
        "ちょっとしたビジネスの話があります",
        "将来のための投資の相談です",
        "権利収入について教えます",
        "不労所得の作り方を知りたくないですか？",
        "お得な情報があります",
        "限定的なオファーがあります"
    ],
    
    # 8. 個人情報収集（直接的表現）
    [
        "他の受講者のプロフィールを集めています",
        "みなさんの個人情報をフォームで送ってください",
        "連絡先を教えてもらえませんか",
        "電話番号を教えてください",
        "住所を聞かせてください",
        "年収を教えてもらえますか"
    ],
    
    # 8. 個人情報収集（曖昧・隠語表現）
    [
        "連絡先をお聞きしたいのですが...",
        "個人的にお話ししたいことがあります",
        "直接ご連絡したいことがあります",
        "プライベートでお話しできませんか？",
        "個別に相談したいことがあります",
        "オフラインでお会いできませんか？",
        "詳細をお聞きしたいです",
        "もう少し詳しく教えてください",
        "参考までに教えてもらえませんか",
        "統計のためにお聞きします"
    ],
    
    # 5. 商業利用（直接的表現）
    [
        "この講義内容を有料で販売しようと思います",
        "教材を商用利用したいです",
        "ビジネスで使わせてもらいます",
        "コンテンツを販売に使います",
        "有料セミナーで紹介します",
        "商品開発に活用します"
    ],
    
    # 5. 商業利用（曖昧・隠語表現）
    [
        "この内容、活用させてもらいます",
        "参考にしてサービスを作ります",
        "ビジネスのヒントにします",
        "コンサルで使わせてもらいます",
        "お客様に紹介したいです",
        "企画に活かしたいです",
        "提案書に使わせてもらいます",
        "プレゼン資料に入れます",
        "営業ツールとして使います",
        "マーケティングに活用します"
    ]
]

#
# 適切な使用例（ラベル0）のパターン - より自然な表現
#
appropriate_patterns = [
    # 正常な学習活動
    [
        "Zoomでの接続は安定していました",
        "資料をまとめてノートにしました",
        "動画の視聴が終わりました",
        "今日の講義はとても勉強になりました",
        "課題について質問があります",
        "復習用のメモを作成しました",
        "講義内容について友人と議論しました",
        "宿題の進捗を報告します",
        "次回の講義が楽しみです",
        "理解できない部分があります",
        "講義資料共有しますね",
        "URLをここに貼っておきます",
        "URLを共有します",
        "Zoomのリンクここに貼っておきます",
        "このチャンネルに動画のURL送ります",
        "ここで資料のPDFを共有していいですか？",
        "受講生間でメモ共有するのは可能ですか？",
    ],
    
    # 適切な質問・相談
    [
        "Zoomの接続方法を教えてください",
        "資料のダウンロードができません",
        "音声が聞こえない問題があります",
        "画面共有の方法がわかりません",
        "チャット機能の使い方を知りたいです",
        "録画された講義はどこで見られますか？",
        "課題の提出方法を確認したいです",
        "スケジュールを教えてください",
        "スクショを送ります",
        "スクショの仕方について教えてください",
        "スクリーンショットを送ります",
        "スクリーンショットの仕方について教えてください",
        "講義の録画はどこで見られますか？",
        "参考書籍を推薦してもらえませんか",
        "補講はありますか？"
    ],
    
    # 規則遵守の意識
    [
        "講義動画のスクリーンショットを撮るのはダメですよね？",
        "スクリーンショットは私的利用の範囲で保存しました",
        "画面キャプチャについて規則を確認しました",
        "個人的な学習メモとして使用します",
        "利用規約を確認しました",
        "著作権について理解しました",
        "ガイドラインに従って行動します",
        "規則を守って参加します",
        "適切な使用方法を学びました",
        "コンプライアンスを意識しています",
        "講義動画を見ましたが、少し難しかったです",
        "講義動画って何時から公開されるんですか？",
        "講義動画の解説が丁寧でしたね"
    ],
    
    # 適切な学習態度
    [
        "個人的な学習ノートを作成しています",
        "授業内容を復習しています",
        "理解できない部分を調べています",
        "講義の要点をまとめました",
        "重要なポイントをハイライトしました",
        "学習計画を立てました",
        "効率的な勉強方法を模索しています",
        "知識の定着を図っています",
        "応用問題に挑戦しています",
        "実践的な活用を考えています"
    ],

    # SNS関連の適切な例
    [
        "最近Instagram使いすぎてる",
        "Facebookで友達と情報交換してる",
        "LinkedInでプロフェッショナルなつながりを増やしています",
        "YouTubeで勉強動画を見ています",
        "TikTokで学習コンテンツを探しています",
        "SNSでの情報収集が日課です",
        "X(Twitter)で猫の写真ばっかり見てる",
        "SNSで講義の話題ってどうなのかな？",
        "Facebookで勉強グループ探してる"
    ],
    
    # 技術的な問題・解決
    [
        "今日はZoomがうまくつながらなかった",
        "ネットワークの調子が悪いようです",
        "音声にノイズが入っています",
        "画面が一時的に固まりました",
        "接続が不安定でした",
        "ブラウザを再起動しました",
        "キャッシュをクリアしました",
        "別のデバイスで試してみます",
        "インターネット環境を確認します",
        "技術的なサポートが必要です"
    ],
    
    # 適切なコミュニケーション
    [
        "他の受講生のアイデアに共感しました",
        "建設的な議論ができました",
        "有益な情報を共有いただきありがとうございます",
        "先生の説明がわかりやすかったです",
        "質問に丁寧に答えていただきました",
        "グループワークが楽しかったです",
        "多様な意見を聞くことができました",
        "新しい視点を得ることができました",
        "協力して課題に取り組みました",
        "お互いに学び合えました",
        "宗教と科学の違いについて話したいです",
        "政治に関心がある人いますか？",
        "宗教と倫理の関係について教えてください",
        "最近何してるの？",
        "最近のニュースについて話しませんか？",
        "最近の出来事について意見交換しましょう",
    ],
    
    # 学習への前向きな姿勢
    [
        "この教材はとても勉強になります",
        "新しい知識を得ることができました",
        "実践的な内容で役立ちます",
        "意見を共有しましょう",
        "学んだことの共有をしましょう",
        "理解が深まりました",
        "応用方法を考えています",
        "さらに詳しく学びたいです",
        "関連分野も調べてみます",
        "実際に試してみたいです",
        "継続的に学習します",
        "スキルアップにつながります"
    ],
    
    # 適切な境界線の認識
    [
        "個人情報の扱い方について学びました",
        "プライバシーに配慮して行動します",
        "機密情報は適切に管理します",
        "利用範囲を確認してから使用します",
        "許可を得てから行動します",
        "規約の範囲内で活用します",
        "適切な方法で情報を取り扱います",
        "責任を持って行動します",
        "倫理的な判断を心がけます",
        "社会的責任を意識しています"
    ],

    #positve発言
    [
        "おはようございます！今日も頑張りましょう！",
        "今日の講義も楽しみです！",
        "嬉しいです！新しい知識を学べるのが楽しみです！",
        "みなさんの意見を聞くのが楽しみです！",
        "最高ですね"
        "素晴らしいですね！",
        "おめでとうございます！",
        "素敵なアイデアですね！",
        "いいですね！",
        "素晴らしい成果ですね！",
        "素晴らしい！",
        "楽しいチャット欄にしましょう",
        "みんなで楽しく学びましょう！",
        "今日も一緒に頑張りましょう！",
        "みんなで協力して学びましょう！",
    ],

    # 意味のない文字列（非禁止、ラベル0）の追加
    [
        "あああああああ",
        "うううう",
        "？？？？？",
        "！！！！",
        "wwwwwww",
        "123456789",
        "xyzxyzxyz",
        "aaaaaaaaaa",
        "#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",
        "あいうえおかきくけこさしすせそたちつてと",
        "abcdefghijklmnopqrstuvwxyz",
    ],

    #slack参加時に送られるメッセージ
    [
        "# チャンネルに参加しました。",
        "こんにちは！このチャンネルに参加しました。",
        "このチャンネルに参加しました！よろしくお願いします。",
        "新しいチャンネルに参加しました！みなさんよろしく！",
        "このチャンネルに参加しました。みなさんとお話しできるのを楽しみにしています！",
    ],
]

def create_realistic_dataset(target_size=10000):
    """より現実的な10,000件のデータセットを作成"""
    
    # 適切・不適切の比率（約3:7）
    appropriate_count = int(target_size * 0.3)  # 適切な使用例（ラベル0
    inappropriate_count = target_size - appropriate_count
    
    # 全パターンを平坦化
    all_inappropriate = []
    for pattern_group in inappropriate_patterns:
        all_inappropriate.extend(pattern_group)
    
    all_appropriate = []
    for pattern_group in appropriate_patterns:
        all_appropriate.extend(pattern_group)
    
    # データセットを作成
    dataset = []
    
    # 不適切なメッセージを生成（重複を許可してランダム選択）
    for i in range(inappropriate_count):
        message = random.choice(all_inappropriate)
        dataset.append((message, 1))
    
    # 適切なメッセージを生成（重複を許可してランダム選択）
    for i in range(appropriate_count):
        message = random.choice(all_appropriate)
        dataset.append((message, 0))
    
    # シャッフル
    random.shuffle(dataset)
    
    return dataset

# データセット生成
print("10,000件の現実的なSlackメッセージデータセットを生成中...")
dataset = create_realistic_dataset(10000)

# CSVファイルに保存
filename = "slack_messages_realistic_10k.csv"
with open(filename, 'w', newline='', encoding='utf-8-sig') as csvfile:
    writer = csv.writer(csvfile)
    writer.writerow(['message_text', 'label'])
    
    for message, label in dataset:
        writer.writerow([message, label])

print(f"データセットが {filename} に保存されました。")

# 統計情報を表示
appropriate_count = sum(1 for _, label in dataset if label == 0)
inappropriate_count = sum(1 for _, label in dataset if label == 1)

print(f"\n統計情報:")
print(f"総件数: {len(dataset)}")
print(f"適切な使用 (ラベル0): {appropriate_count} 件 ({appropriate_count/len(dataset)*100:.1f}%)")
print(f"不適切な使用 (ラベル1): {inappropriate_count} 件 ({inappropriate_count/len(dataset)*100:.1f}%)")

# サンプルデータを表示
print(f"\n不適切な使用例のサンプル:")
inappropriate_samples = [msg for msg, label in dataset if label == 1][:5]
for i, msg in enumerate(inappropriate_samples, 1):
    print(f"{i}. \"{msg}\"")

print(f"\n適切な使用例のサンプル:")
appropriate_samples = [msg for msg, label in dataset if label == 0][:5]
for i, msg in enumerate(appropriate_samples, 1):
    print(f"{i}. \"{msg}\"")

# グレーゾーンの検出精度向上のため、曖昧表現の統計も表示
ambiguous_keywords = ["ちょっと", "少しだけ", "参考まで", "例えば", "もし", "内輪", "個人的"]
ambiguous_count = sum(1 for msg, _ in dataset if any(keyword in msg for keyword in ambiguous_keywords))

print(f"\n曖昧表現を含むメッセージ: {ambiguous_count} 件")
